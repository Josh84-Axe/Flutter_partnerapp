// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 3.10.0 (stable) (Thu Nov 6 05:24:55 2025 -0800) on "windows_x64"
// Module: packages/async/src/stream_sink_completer.dart
// Flags: canary, emitLibraryBundle, enableAsserts(true)
dartDevEmbedder.defineLibrary("package:async/src/stream_sink_completer.dart", (function load__package$58async__src__stream_sink_completer_dart(stream_sink_completer) {
  'use strict';
  let core = dartDevEmbedder.importLibrary("dart:core", function(lib) {
    core = lib;
  });
  let dart = dartDevEmbedder.importLibrary("dart:_runtime", function(lib) {
    dart = lib;
  });
  let dart_rti = dartDevEmbedder.importLibrary("dart:_rti", function(lib) {
    dart_rti = lib;
  });
  let async = dartDevEmbedder.importLibrary("dart:async", function(lib) {
    async = lib;
  });
  let null_stream_sink = dartDevEmbedder.importLibrary("package:async/src/null_stream_sink.dart", function(lib) {
    null_stream_sink = lib;
  });
  let dartx = dartDevEmbedder.importLibrary("dartx", function(lib) {
    dartx = lib;
  });
  var T$ = {
    void: () => (T$.void = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "~", true)))(),
    FutureOfStreamSinkOfTToStreamSinkOfT: () => (T$.FutureOfStreamSinkOfTToStreamSinkOfT = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "async|StreamSink<0^>(async|Future<async|StreamSink<0^>>)<core|Object?>", true)))(),
    dynamic: () => (T$.dynamic = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "@", true)))(),
    VoidToStreamSinkCompleterOfT: () => (T$.VoidToStreamSinkCompleterOfT = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "async__src__stream_sink_completer|StreamSinkCompleter<0^>()<core|Object?>", true)))(),
    ObjectNTovoid: () => (T$.ObjectNTovoid = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "~(core|Object?)", true)))(),
    ObjectAndStackTraceNTovoid: () => (T$.ObjectAndStackTraceNTovoid = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "~(core|Object[core|StackTrace?])", true)))(),
    Completer: () => (T$.Completer = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "async|Completer<@>", true)))(),
    dynamicToNull: () => (T$.dynamicToNull = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|Null(@)", true)))(),
    VoidTo_CompleterSinkOfT: () => (T$.VoidTo_CompleterSinkOfT = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "async__src__stream_sink_completer|_CompleterSink<0^>()<core|Object?>", true)))(),
    bool: () => (T$.bool = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|bool", true)))(),
    Future: () => (T$.Future = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "async|Future<@>", true)))(),
    ObjectNToFuture: () => (T$.ObjectNToFuture = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "async|Future<@>(core|Object?)", true)))(),
    VoidToFuture: () => (T$.VoidToFuture = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "async|Future<@>()", true)))(),
    CompleterN: () => (T$.CompleterN = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "async|Completer<@>?", true)))()
  };
  const CT = Object.create({
    _: () => (C, CT)
  });
  var I = [
    "package:async/src/stream_sink_completer.dart",
    "dart:async",
    "file:///C:/Users/ELITEX21012G2/AppData/Local/Pub/Cache/hosted/pub.dev/async-2.13.0/lib/src/stream_sink_completer.dart"
  ];
  var sink = dart.privateName("package:async/src/stream_sink_completer.dart", "StreamSinkCompleter.sink");
  var _eval = dart.privateName("dart:_rti", "_eval");
  var __initializing = dart.privateName("package:async/src/stream_sink_completer.dart", "_#initializing");
  var _as = dart.privateName("dart:_rti", "_as");
  var _sink = dart.privateName("package:async/src/stream_sink_completer.dart", "_sink");
  var _destinationSink = dart.privateName("package:async/src/stream_sink_completer.dart", "_destinationSink");
  var _setDestinationSink = dart.privateName("package:async/src/stream_sink_completer.dart", "_setDestinationSink");
  dart.declareClass(stream_sink_completer, 'StreamSinkCompleter', class StreamSinkCompleter {
    get sink() {
      if (this[sink] === __initializing) dart.throwLateInitializationError("sink");
      if (this[sink] === void 0) {
        this[sink] = __initializing;
        try {
          this[sink] = new stream_sink_completer._CompleterSink.new(dart_rti.instanceType(this)[_eval]("async__src__stream_sink_completer|_CompleterSink<StreamSinkCompleter.T>"));
        } catch (e) {
          if (this[sink] === __initializing) {
            this[sink] = void 0;
          }
          throw e;
        }
      }
      return this[sink];
    }
    set sink(value) {
      super.sink = value;
    }
    get [_sink]() {
      return dart_rti.instanceType(this)[_eval]("async__src__stream_sink_completer|_CompleterSink<StreamSinkCompleter.T>")[_as](this.sink);
    }
    static fromFuture(T, sinkFuture) {
      let completer = new stream_sink_completer.StreamSinkCompleter.new(T[_eval]("async__src__stream_sink_completer|StreamSinkCompleter<0>"));
      sinkFuture.then(T$.void(), T[_eval]("~(async|StreamSink<0>)")[_as](dart.tearoff(completer, null, 'setDestinationSink')), {onError: dart.tearoff(completer, null, 'setError')});
      return completer.sink;
    }
    setDestinationSink(destinationSink) {
      dart_rti.instanceType(this)[_eval]("async|StreamSink<StreamSinkCompleter.T>")[_as](destinationSink);
      if (this[_sink][_destinationSink] != null) {
        dart.throw(new core.StateError.new("Destination sink already set"));
      }
      this[_sink][_setDestinationSink](destinationSink);
    }
    setError(error, stackTrace = null) {
      this.setDestinationSink(new null_stream_sink.NullStreamSink.error(dart_rti.instanceType(this)[_eval]("async__src__null_stream_sink|NullStreamSink<StreamSinkCompleter.T>"), error, stackTrace));
    }
    static ['_#new#tearOff'](T) {
      return new stream_sink_completer.StreamSinkCompleter.new(T[_eval]("async__src__stream_sink_completer|StreamSinkCompleter<0>"));
    }
  });
  (stream_sink_completer.StreamSinkCompleter.new = function(_ti) {
    this.$ti = this.$ti || _ti || dart.getReifiedType(this);
    this[sink] = new stream_sink_completer._CompleterSink.new(dart_rti.instanceType(this)[_eval]("async__src__stream_sink_completer|_CompleterSink<StreamSinkCompleter.T>"));
    ;
  }).prototype = stream_sink_completer.StreamSinkCompleter.prototype;
  dart.lazyGFn(stream_sink_completer.StreamSinkCompleter.fromFuture, () => T$.FutureOfStreamSinkOfTToStreamSinkOfT(), () => dart.constList(T$.dynamic(), [T$.dynamic()]));
  dart.lazyGFn(stream_sink_completer.StreamSinkCompleter['_#new#tearOff'], () => T$.VoidToStreamSinkCompleterOfT(), () => dart.constList(T$.dynamic(), [T$.dynamic()]));
  dart.addRtiResources(stream_sink_completer.StreamSinkCompleter, ["async__src__stream_sink_completer|StreamSinkCompleter"]);
  dart.setMethodSignature(stream_sink_completer.StreamSinkCompleter, () => dart.global.Object.setPrototypeOf({
    setDestinationSink: _ti => T$.ObjectNTovoid(),
    setError: _ti => T$.ObjectAndStackTraceNTovoid()
  }, dart.getMethods(dart.global.Object.getPrototypeOf(stream_sink_completer.StreamSinkCompleter))));
  dart.setMethodsImmediateTargetSignature(stream_sink_completer.StreamSinkCompleter, () => dart.global.Object.setPrototypeOf({
    fromFuture: "package:async/src/stream_sink_completer.dart:StreamSinkCompleter",
    setDestinationSink: "package:async/src/stream_sink_completer.dart:StreamSinkCompleter",
    setError: "package:async/src/stream_sink_completer.dart:StreamSinkCompleter"
  }, dart.getMethodsImmediateTargets(dart.global.Object.getPrototypeOf(stream_sink_completer.StreamSinkCompleter))));
  dart.setStaticMethodSignature(stream_sink_completer.StreamSinkCompleter, () => ['fromFuture']);
  dart.setGetterSignature(stream_sink_completer.StreamSinkCompleter, () => dart.global.Object.setPrototypeOf({
    [_sink]: _ti => _ti[_eval]("async__src__stream_sink_completer|_CompleterSink<StreamSinkCompleter.T>")
  }, dart.getGetters(dart.global.Object.getPrototypeOf(stream_sink_completer.StreamSinkCompleter))));
  dart.setLibraryUri(stream_sink_completer.StreamSinkCompleter, I[0]);
  dart.setFieldSignature(stream_sink_completer.StreamSinkCompleter, () => dart.global.Object.setPrototypeOf({sink: {
      type: _ti => _ti[_eval]("async|StreamSink<StreamSinkCompleter.T>"),
      isConst: false,
      isFinal: true,
      libraryUri: I[1]
    }}, dart.getFields(dart.global.Object.getPrototypeOf(stream_sink_completer.StreamSinkCompleter))));
  var _controller = dart.privateName("package:async/src/stream_sink_completer.dart", "_controller");
  var _doneCompleter = dart.privateName("package:async/src/stream_sink_completer.dart", "_doneCompleter");
  var _canSendDirectly = dart.privateName("package:async/src/stream_sink_completer.dart", "_canSendDirectly");
  var _ensureController = dart.privateName("package:async/src/stream_sink_completer.dart", "_ensureController");
  dart.declareClass(stream_sink_completer, '_CompleterSink', class _CompleterSink {
    get [_canSendDirectly]() {
      return this[_controller] == null && this[_destinationSink] != null;
    }
    get done() {
      if (this[_doneCompleter] != null) return dart.nullCheck(this[_doneCompleter]).future;
      if (this[_destinationSink] == null) {
        this[_doneCompleter] = async.Completer.sync(T$.Completer());
        return dart.nullCheck(this[_doneCompleter]).future;
      }
      return dart.nullCheck(this[_destinationSink]).done;
    }
    add(event) {
      dart_rti.instanceType(this)[_eval]("_CompleterSink.T")[_as](event);
      if (this[_canSendDirectly]) {
        dart.nullCheck(this[_destinationSink]).add(event);
      } else {
        this[_ensureController]().add(event);
      }
    }
    addError(error, stackTrace = null) {
      if (this[_canSendDirectly]) {
        dart.nullCheck(this[_destinationSink]).addError(error, stackTrace);
      } else {
        this[_ensureController]().addError(error, stackTrace);
      }
    }
    addStream(stream) {
      dart_rti.instanceType(this)[_eval]("async|Stream<_CompleterSink.T>")[_as](stream);
      if (this[_canSendDirectly]) return dart.nullCheck(this[_destinationSink]).addStream(stream);
      return this[_ensureController]().addStream(stream, {cancelOnError: false});
    }
    close() {
      if (this[_canSendDirectly]) {
        dart.nullCheck(this[_destinationSink]).close();
      } else {
        this[_ensureController]().close();
      }
      return this.done;
    }
    [_ensureController]() {
      let t$360;
      t$360 = this[_controller];
      return t$360 == null ? this[_controller] = async.StreamController.new(dart_rti.instanceType(this)[_eval]("async|StreamController<_CompleterSink.T>"), {sync: true}) : t$360;
    }
    [_setDestinationSink](sink) {
      dart_rti.instanceType(this)[_eval]("async|StreamSink<_CompleterSink.T>")[_as](sink);
      if (!(this[_destinationSink] == null)) dart.assertFailed(null, I[2], 160, 12, "_destinationSink == null");
      this[_destinationSink] = sink;
      if (this[_controller] != null) {
        sink.addStream(dart.nullCheck(this[_controller]).stream).whenComplete(dart.tearoff(sink, null, 'close')).catchError(dart.fn(_ => {
        }, T$.dynamicToNull()));
      }
      if (this[_doneCompleter] != null) {
        dart.nullCheck(this[_doneCompleter]).complete(sink.done);
      }
    }
    static ['_#new#tearOff'](T) {
      return new stream_sink_completer._CompleterSink.new(T[_eval]("async__src__stream_sink_completer|_CompleterSink<0>"));
    }
  });
  (stream_sink_completer._CompleterSink.new = function(_ti) {
    this.$ti = this.$ti || _ti || dart.getReifiedType(this);
    this[_controller] = null;
    this[_doneCompleter] = null;
    this[_destinationSink] = null;
    ;
  }).prototype = stream_sink_completer._CompleterSink.prototype;
  dart.lazyGFn(stream_sink_completer._CompleterSink['_#new#tearOff'], () => T$.VoidTo_CompleterSinkOfT(), () => dart.constList(T$.dynamic(), [T$.dynamic()]));
  dart.addRtiResources(stream_sink_completer._CompleterSink, ["async__src__stream_sink_completer|_CompleterSink", "async|StreamSink", "async|EventSink", "async|StreamConsumer", "core|Sink"]);
  dart.setMethodSignature(stream_sink_completer._CompleterSink, () => dart.global.Object.setPrototypeOf({
    add: _ti => T$.ObjectNTovoid(),
    addError: _ti => T$.ObjectAndStackTraceNTovoid(),
    addStream: _ti => T$.ObjectNToFuture(),
    close: _ti => T$.VoidToFuture(),
    [_ensureController]: _ti => _ti[_eval]("async|StreamController<_CompleterSink.T>()"),
    [_setDestinationSink]: _ti => T$.ObjectNTovoid()
  }, dart.getMethods(dart.global.Object.getPrototypeOf(stream_sink_completer._CompleterSink))));
  dart.setMethodsImmediateTargetSignature(stream_sink_completer._CompleterSink, () => dart.global.Object.setPrototypeOf({
    add: "package:async/src/stream_sink_completer.dart:_CompleterSink",
    addError: "package:async/src/stream_sink_completer.dart:_CompleterSink",
    addStream: "package:async/src/stream_sink_completer.dart:_CompleterSink",
    close: "package:async/src/stream_sink_completer.dart:_CompleterSink",
    [_ensureController]: "package:async/src/stream_sink_completer.dart:_CompleterSink",
    [_setDestinationSink]: "package:async/src/stream_sink_completer.dart:_CompleterSink"
  }, dart.getMethodsImmediateTargets(dart.global.Object.getPrototypeOf(stream_sink_completer._CompleterSink))));
  dart.setGetterSignature(stream_sink_completer._CompleterSink, () => dart.global.Object.setPrototypeOf({
    [_canSendDirectly]: _ti => T$.bool(),
    done: _ti => T$.Future()
  }, dart.getGetters(dart.global.Object.getPrototypeOf(stream_sink_completer._CompleterSink))));
  dart.setLibraryUri(stream_sink_completer._CompleterSink, I[0]);
  dart.setFieldSignature(stream_sink_completer._CompleterSink, () => dart.global.Object.setPrototypeOf({
    [_controller]: {
      type: _ti => _ti[_eval]("async|StreamController<_CompleterSink.T>?"),
      isConst: false,
      isFinal: false,
      libraryUri: I[1]
    },
    [_doneCompleter]: {
      type: _ti => T$.CompleterN(),
      isConst: false,
      isFinal: false,
      libraryUri: I[1]
    },
    [_destinationSink]: {
      type: _ti => _ti[_eval]("async|StreamSink<_CompleterSink.T>?"),
      isConst: false,
      isFinal: false,
      libraryUri: I[1]
    }
  }, dart.getFields(dart.global.Object.getPrototypeOf(stream_sink_completer._CompleterSink))));
  (function() {
  }).prototype = stream_sink_completer;
  stream_sink_completer[dartDevEmbedder.linkSymbol] = function link__stream_sink_completer() {
    dart.classExtends(stream_sink_completer.StreamSinkCompleter, dartDevEmbedder.importLibrary("dart:core").Object);
    dart.classExtends(stream_sink_completer._CompleterSink, dartDevEmbedder.importLibrary("dart:core").Object);
    dart_rti._Universe.addRules(dart.typeUniverse, JSON.parse('{"async__src__stream_sink_completer|_CompleterSink":{"_CompleterSink.T":"1","StreamSink.S":"1","async|StreamSink":["1"],"EventSink.T":"1","async|EventSink":["1"],"StreamConsumer.S":"1","async|StreamConsumer":["1"],"Sink.T":"1","core|Sink":["1"]},"async|StreamSink":{"StreamSink.S":"1","EventSink.T":"1","async|EventSink":["1"],"StreamConsumer.S":"1","async|StreamConsumer":["1"],"Sink.T":"1","core|Sink":["1"]},"async|EventSink":{"EventSink.T":"1","Sink.T":"1","core|Sink":["1"]},"async|StreamConsumer":{"StreamConsumer.S":"1"},"core|Sink":{"Sink.T":"1"},"async__src__stream_sink_completer|StreamSinkCompleter":{"StreamSinkCompleter.T":"1"},"async__src__null_stream_sink|NullStreamSink":{"NullStreamSink.T":"1","StreamSink.S":"1","async|StreamSink":["1"],"EventSink.T":"1","async|EventSink":["1"],"StreamConsumer.S":"1","async|StreamConsumer":["1"],"Sink.T":"1","core|Sink":["1"]},"async|Future":{"Future.T":"1"},"async|Completer":{"Completer.T":"1"},"async|Stream":{"Stream.T":"1"},"async|StreamController":{"StreamController.T":"1","StreamSink.S":"1","async|StreamSink":["1"],"EventSink.T":"1","async|EventSink":["1"],"StreamConsumer.S":"1","async|StreamConsumer":["1"],"Sink.T":"1","core|Sink":["1"]}}'));
  };
  stream_sink_completer[dart.libraryImportUri] = "package:async/src/stream_sink_completer.dart";
  return stream_sink_completer;
}));
dartDevEmbedder.debugger.setSourceMap("packages/async/src/stream_sink_completer.dart", '{"version":3,"sourceRoot":"","sources":["stream_sink_completer.dart"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA2BsB;;;;;uBAAO;;;;;;;;;;IAAP;;;;AAGW,YAAK,oHAAL;IAAyB;yBASC;AACnD,sBAAY;AACL,MAAX,UAAU,yDAAgB,aAAV,SAAS,0CAAwC,aAAV,SAAS;AAChE,YAAO,AAAU,UAAD;IAClB;uBAiBsC;;AACpC,UAAI,AAAM;AACR,mBAAM,wBAAW;;AAEb,MAAN,iCAA0B,eAAe;IAC3C;aASqB,OAAoB;AACvC,8BAAkC,oJAAM,KAAK,EAAE,UAAU;IAC3D;;;;;;;IAjDoB,aAAO;;EAkD7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuB+B,YAAA,AAAY,AAAQ,8BAAG;IAAwB;;AAI1E,UAAI,8BAAwB,MAAqB,AAAE,gBAAhB;AACnC,UAAI,AAAiB;AACnB,+BAA2B;AAC3B,cAAqB,AAAE,gBAAhB;;AAET,YAAuB,AAAE,gBAAlB;IACT;QAGW;;AACT,UAAI;AACgB,QAAF,eAAhB,4BAAsB,KAAK;;AAEP,QAApB,8BAAwB,KAAK;;IAEjC;aAGqB,OAAoB;AACvC,UAAI;AACgB,QAAF,eAAhB,iCAA2B,KAAK,EAAE,UAAU;;AAExB,QAApB,mCAA6B,KAAK,EAAE,UAAU;;IAElD;cAG2B;;AACzB,UAAI,wBAAkB,MAAuB,AAAE,gBAAlB,kCAA4B,MAAM;AAE/D,YAAO,AAAoB,qCAAU,MAAM,kBAAiB;IAC9D;;AAIE,UAAI;AACgB,QAAF,eAAhB;;AAEoB,QAApB;;AAEF,YAAO;IACT;;UAIS;AAAP,cAAO;YAAY,iBAAZ,oBAAgB,kHAAuB,SAAvC;IACT;0BAQuC;;YAC9B,AAAiB;AACxB,+BAAmB,IAAI;AAIvB,UAAI;AAMG,QAHL,AACK,AACA,IAFD,WACsB,AAAE,eAAb,wCACQ,aAAL,IAAI,6BACN,QAAC;;;AAKnB,UAAI;AACc,QAAF,eAAd,+BAAyB,AAAK,IAAD;;IAEjC;;;;;;;IA7FqB;IAMV;IAKI;;EAmFjB","file":"../../../../../../../../../../../packages/async/src/stream_sink_completer.dart.lib.js"}');

//# sourceMappingURL=stream_sink_completer.dart.lib.js.map
