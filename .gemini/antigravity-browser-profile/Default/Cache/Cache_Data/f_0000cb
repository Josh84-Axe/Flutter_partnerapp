// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 3.10.0 (stable) (Thu Nov 6 05:24:55 2025 -0800) on "windows_x64"
// Module: packages/material_color_utilities/quantize/quantizer_wsmeans.dart
// Flags: canary, emitLibraryBundle, enableAsserts(true)
dartDevEmbedder.defineLibrary("package:material_color_utilities/quantize/quantizer_wsmeans.dart", (function load__package$58material_color_utilities__quantize__quantizer_wsmeans_dart(quantizer_wsmeans) {
  'use strict';
  let core = dartDevEmbedder.importLibrary("dart:core", function(lib) {
    core = lib;
  });
  let dart = dartDevEmbedder.importLibrary("dart:_runtime", function(lib) {
    dart = lib;
  });
  let dart_rti = dartDevEmbedder.importLibrary("dart:_rti", function(lib) {
    dart_rti = lib;
  });
  let _js_helper = dartDevEmbedder.importLibrary("dart:_js_helper", function(lib) {
    _js_helper = lib;
  });
  let _interceptors = dartDevEmbedder.importLibrary("dart:_interceptors", function(lib) {
    _interceptors = lib;
  });
  let math = dartDevEmbedder.importLibrary("dart:math", function(lib) {
    math = lib;
  });
  let collection = dartDevEmbedder.importLibrary("dart:collection", function(lib) {
    collection = lib;
  });
  let point_provider_lab = dartDevEmbedder.importLibrary("package:material_color_utilities/quantize/src/point_provider_lab.dart", function(lib) {
    point_provider_lab = lib;
  });
  let quantizer = dartDevEmbedder.importLibrary("package:material_color_utilities/quantize/quantizer.dart", function(lib) {
    quantizer = lib;
  });
  let dartx = dartDevEmbedder.importLibrary("dartx", function(lib) {
    dartx = lib;
  });
  var $compareTo = dartx.compareTo;
  var $forEach = dartx.forEach;
  var $update = dartx.update;
  var $add = dartx.add;
  var $_get = dartx._get;
  var $_set = dartx._set;
  var $map = dartx.map;
  var $toList = dartx.toList;
  var $length = dartx.length;
  var $contains = dartx.contains;
  var $modulo = dartx['%'];
  var $sort = dartx.sort;
  var T = {
    DistanceAndIndex: () => (T.DistanceAndIndex = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "material_color_utilities__quantize__quantizer_wsmeans|DistanceAndIndex", true)))(),
    doubleAndintToDistanceAndIndex: () => (T.doubleAndintToDistanceAndIndex = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "material_color_utilities__quantize__quantizer_wsmeans|DistanceAndIndex(core|double,core|int)", true)))(),
    ObjectNToint: () => (T.ObjectNToint = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|int(core|Object?)", true)))(),
    double: () => (T.double = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|double", true)))(),
    int: () => (T.int = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|int", true)))(),
    IdentityMapOfint$int: () => (T.IdentityMapOfint$int = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "_js_helper|IdentityMap<core|int,core|int>", true)))(),
    JSArrayOfListOfdouble: () => (T.JSArrayOfListOfdouble = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "_interceptors|JSArray<core|List<core|double>>", true)))(),
    JSArrayOfint: () => (T.JSArrayOfint = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "_interceptors|JSArray<core|int>", true)))(),
    intToint: () => (T.intToint = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|int(core|int)", true)))(),
    VoidToint: () => (T.VoidToint = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|int()", true)))(),
    ListOfdouble: () => (T.ListOfdouble = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|List<core|double>", true)))(),
    intTovoid: () => (T.intTovoid = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "~(core|int)", true)))(),
    ListOfint: () => (T.ListOfint = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|List<core|int>", true)))(),
    intToListOfdouble: () => (T.intToListOfdouble = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|List<core|double>(core|int)", true)))(),
    ListOfListOfint: () => (T.ListOfListOfint = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|List<core|List<core|int>>", true)))(),
    intToListOfint: () => (T.intToListOfint = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|List<core|int>(core|int)", true)))(),
    ListOfListOfDistanceAndIndex: () => (T.ListOfListOfDistanceAndIndex = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|List<core|List<material_color_utilities__quantize__quantizer_wsmeans|DistanceAndIndex>>", true)))(),
    ListOfDistanceAndIndex: () => (T.ListOfDistanceAndIndex = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|List<material_color_utilities__quantize__quantizer_wsmeans|DistanceAndIndex>", true)))(),
    intToDistanceAndIndex: () => (T.intToDistanceAndIndex = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "material_color_utilities__quantize__quantizer_wsmeans|DistanceAndIndex(core|int)", true)))(),
    intToListOfDistanceAndIndex: () => (T.intToListOfDistanceAndIndex = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|List<material_color_utilities__quantize__quantizer_wsmeans|DistanceAndIndex>(core|int)", true)))(),
    JSArrayOfdouble: () => (T.JSArrayOfdouble = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "_interceptors|JSArray<core|double>", true)))(),
    LinkedHashMapOfint$int: () => (T.LinkedHashMapOfint$int = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "collection|LinkedHashMap<core|int,core|int>", true)))(),
    StringTovoid: () => (T.StringTovoid = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "~(core|String)", true)))(),
    IterableOfintAndint__ToQuantizerResult: () => (T.IterableOfintAndint__ToQuantizerResult = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "material_color_utilities__quantize__quantizer|QuantizerResult(core|Iterable<core|int>,core|int{maxIterations:core|int,pointProvider:material_color_utilities__quantize__src__point_provider|PointProvider,returnInputPixelToClusterPixel:core|bool,startingClusters:core|List<core|int>})", true)))(),
    VoidToQuantizerWsmeans: () => (T.VoidToQuantizerWsmeans = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "material_color_utilities__quantize__quantizer_wsmeans|QuantizerWsmeans()", true)))(),
    bool: () => (T.bool = dart.constFn(dart_rti._Universe.eval(dart.typeUniverse, "core|bool", true)))()
  };
  const CT = Object.create({
    _: () => (C, CT)
  });
  dart.defineLazy(CT, {
    get C0() {
      return C[0] = dart.constList(T.int(), []);
    },
    get C1() {
      return C[1] = dart.const(Object.setPrototypeOf({
      }, point_provider_lab.PointProviderLab.prototype));
    }
  });
  var C = Array(2).fill(void 0);
  var I = [
    "package:material_color_utilities/quantize/quantizer_wsmeans.dart",
    "dart:core"
  ];
  var distance = dart.privateName("package:material_color_utilities/quantize/quantizer_wsmeans.dart", "DistanceAndIndex.distance");
  var index = dart.privateName("package:material_color_utilities/quantize/quantizer_wsmeans.dart", "DistanceAndIndex.index");
  var _as = dart.privateName("dart:_rti", "_as");
  dart.declareClass(quantizer_wsmeans, 'DistanceAndIndex', class DistanceAndIndex {
    get distance() {
      if (this[distance] === void 0) {
        this[distance] = null;
      }
      return this[distance];
    }
    set distance(value) {
      this[distance] = value;
    }
    get index() {
      if (this[index] === void 0) {
        this[index] = null;
      }
      return this[index];
    }
    set index(value) {
      this[index] = value;
    }
    static ['_#new#tearOff'](distance, index) {
      return new quantizer_wsmeans.DistanceAndIndex.new(distance, index);
    }
    compareTo(other) {
      T.DistanceAndIndex()[_as](other);
      if (this.distance < other.distance) {
        return -1;
      } else if (this.distance > other.distance) {
        return 1;
      } else {
        return 0;
      }
    }
  });
  (quantizer_wsmeans.DistanceAndIndex.new = function(distance$, index$) {
    this[distance] = distance$;
    this[index] = index$;
    ;
  }).prototype = quantizer_wsmeans.DistanceAndIndex.prototype;
  dart.lazyFn(quantizer_wsmeans.DistanceAndIndex['_#new#tearOff'], () => T.doubleAndintToDistanceAndIndex());
  dart.addRtiResources(quantizer_wsmeans.DistanceAndIndex, ["material_color_utilities__quantize__quantizer_wsmeans|DistanceAndIndex", "core|Comparable"]);
  dart.setMethodSignature(quantizer_wsmeans.DistanceAndIndex, () => dart.global.Object.setPrototypeOf({
    compareTo: _ti => T.ObjectNToint(),
    [$compareTo]: _ti => T.ObjectNToint()
  }, dart.getMethods(dart.global.Object.getPrototypeOf(quantizer_wsmeans.DistanceAndIndex))));
  dart.setMethodsImmediateTargetSignature(quantizer_wsmeans.DistanceAndIndex, () => dart.global.Object.setPrototypeOf({compareTo: "package:material_color_utilities/quantize/quantizer_wsmeans.dart:DistanceAndIndex"}, dart.getMethodsImmediateTargets(dart.global.Object.getPrototypeOf(quantizer_wsmeans.DistanceAndIndex))));
  dart.setLibraryUri(quantizer_wsmeans.DistanceAndIndex, I[0]);
  dart.setFieldSignature(quantizer_wsmeans.DistanceAndIndex, () => dart.global.Object.setPrototypeOf({
    distance: {
      type: _ti => T.double(),
      isConst: false,
      isFinal: false,
      libraryUri: I[1]
    },
    index: {
      type: _ti => T.int(),
      isConst: false,
      isFinal: false,
      libraryUri: I[1]
    }
  }, dart.getFields(dart.global.Object.getPrototypeOf(quantizer_wsmeans.DistanceAndIndex))));
  var debug = dart.privateName("package:material_color_utilities/quantize/quantizer_wsmeans.dart", "debug");
  dart.declareClass(quantizer_wsmeans, 'QuantizerWsmeans', class QuantizerWsmeans {
    static [debug] = void 0;
    /*quantizer_wsmeans.QuantizerWsmeans.debug*/static get debug() {
      if (this[debug] === void 0) {
        this[debug] = false;
      }
      this[debug];
      Object.defineProperty(this, "debug", {
        get() {
          return this[debug];
        }
      });
      return this.debug;
    }
    static debugLog(log) {
      ;
    }
    static quantize(inputPixels, maxColors, opts) {
      let t$360;
      let startingClusters = opts && 'startingClusters' in opts ? opts.startingClusters : C[0] || CT.C0;
      let pointProvider = opts && 'pointProvider' in opts ? opts.pointProvider : C[1] || CT.C1;
      let maxIterations = opts && 'maxIterations' in opts ? opts.maxIterations : 5;
      let returnInputPixelToClusterPixel = opts && 'returnInputPixelToClusterPixel' in opts ? opts.returnInputPixelToClusterPixel : false;
      let pixelToCount = new _js_helper.IdentityMap.new(T.IdentityMapOfint$int());
      let points = _interceptors.JSArray.of(T.JSArrayOfListOfdouble(), []);
      let pixels = _interceptors.JSArray.of(T.JSArrayOfint(), []);
      let pointCount = 0;
      inputPixels[$forEach](dart.fn(inputPixel => {
        let $36rec, $36p1, $36n0, $36result, $36rec$, $36rec$0, $36result$, $36p0, $36result$0, $36rec$1, $36result$1;
        let pixelCount = 0 === dart.global.dartDevEmbedder.hotReloadGeneration ? pixelToCount[$update](inputPixel, dart.fn(value => value + 1, T.intToint()), {ifAbsent: dart.fn(() => 1, T.VoidToint())}) : ($36rec = pixelToCount, $36p1 = dart.fn(value => value + 1, T.intToint()), $36n0 = dart.fn(() => 1, T.VoidToint()), $36result = dart.hotReloadCorrectnessChecks($36rec, $update, [], [inputPixel, $36p1], {ifAbsent: $36n0}), $36result == dart.validArgumentsSentinel ? dart_rti._asInt($36rec[$update](inputPixel, $36p1, {ifAbsent: $36n0})) : dart_rti._asInt($36result));
        if (pixelCount === 1) {
          pointCount = pointCount + 1;
          0 === dart.global.dartDevEmbedder.hotReloadGeneration ? points[$add](pointProvider.fromInt(inputPixel)) : ($36rec$ = points, $36p0 = ($36rec$0 = pointProvider, $36result$ = dart.hotReloadCorrectnessChecks($36rec$0, 'fromInt', [], [inputPixel], null), $36result$ == dart.validArgumentsSentinel ? T.ListOfdouble()[_as]($36rec$0.fromInt(inputPixel)) : T.ListOfdouble()[_as]($36result$)), $36result$0 = dart.hotReloadCorrectnessChecks($36rec$, $add, [], [$36p0], null), $36result$0 == dart.validArgumentsSentinel ? $36rec$[$add]($36p0) : $36result$0);
          0 === dart.global.dartDevEmbedder.hotReloadGeneration ? pixels[$add](inputPixel) : ($36rec$1 = pixels, $36result$1 = dart.hotReloadCorrectnessChecks($36rec$1, $add, [], [inputPixel], null), $36result$1 == dart.validArgumentsSentinel ? $36rec$1[$add](inputPixel) : $36result$1);
        }
      }, T.intTovoid()));
      let counts = core.List.filled(T.ListOfint(), pointCount, 0);
      for (let i = 0; i < pointCount; i = i + 1) {
        let pixel = pixels[$_get](i);
        let count = dart.nullCheck(pixelToCount[$_get](pixel));
        counts[$_set](i, count);
      }
      let clusterCount = math.min(T.int(), maxColors, pointCount);
      let clusters = startingClusters[$map](T.ListOfdouble(), dart.fn(e => {
        let $36rec, $36result;
        return 0 === dart.global.dartDevEmbedder.hotReloadGeneration ? pointProvider.fromInt(e) : ($36rec = pointProvider, $36result = dart.hotReloadCorrectnessChecks($36rec, 'fromInt', [], [e], null), $36result == dart.validArgumentsSentinel ? T.ListOfdouble()[_as]($36rec.fromInt(e)) : T.ListOfdouble()[_as]($36result));
      }, T.intToListOfdouble()))[$toList]();
      let additionalClustersNeeded = clusterCount - clusters[$length];
      if (additionalClustersNeeded > 0) {
        let random = math.Random.new(272008);
        let indices = _interceptors.JSArray.of(T.JSArrayOfint(), []);
        for (let i$ = 0; i$ < additionalClustersNeeded; i$ = i$ + 1) {
          let index = random.nextInt(points[$length]);
          while (indices[$contains](index)) {
            index = random.nextInt(points[$length]);
          }
          indices[$add](index);
        }
        indices[$forEach](dart.fn(index => {
          let $36rec, $36rec$, $36result, $36p0, $36result$;
          0 === dart.global.dartDevEmbedder.hotReloadGeneration ? clusters[$add](points[$_get](index)) : ($36rec = clusters, $36p0 = ($36rec$ = points, $36result = dart.hotReloadCorrectnessChecks($36rec$, $_get, [], [index], null), $36result == dart.validArgumentsSentinel ? T.ListOfdouble()[_as]($36rec$[$_get](index)) : T.ListOfdouble()[_as]($36result)), $36result$ = dart.hotReloadCorrectnessChecks($36rec, $add, [], [$36p0], null), $36result$ == dart.validArgumentsSentinel ? $36rec[$add]($36p0) : $36result$);
        }, T.intTovoid()));
      }
      quantizer_wsmeans.QuantizerWsmeans.debugLog("have " + dart.strSafe(clusters[$length]) + " starting clusters, " + dart.strSafe(points[$length]) + " points");
      let clusterIndices = core.List.generate(T.ListOfint(), pointCount, dart.fn(index => index[$modulo](clusterCount), T.intToint()));
      let indexMatrix = core.List.generate(T.ListOfListOfint(), clusterCount, dart.fn(_ => core.List.filled(T.ListOfint(), clusterCount, 0), T.intToListOfint()));
      let distanceToIndexMatrix = core.List.generate(T.ListOfListOfDistanceAndIndex(), clusterCount, dart.fn(index => core.List.generate(T.ListOfDistanceAndIndex(), clusterCount, dart.fn(index => new quantizer_wsmeans.DistanceAndIndex.new(0.0, index), T.intToDistanceAndIndex())), T.intToListOfDistanceAndIndex()));
      let pixelCountSums = core.List.filled(T.ListOfint(), clusterCount, 0);
      for (let iteration = 0; iteration < maxIterations; iteration = iteration + 1) {
        ;
        let pointsMoved = 0;
        for (let i$0 = 0; i$0 < clusterCount; i$0 = i$0 + 1) {
          for (let j = i$0 + 1; j < clusterCount; j = j + 1) {
            let distance = pointProvider.distance(clusters[$_get](i$0), clusters[$_get](j));
            distanceToIndexMatrix[$_get](j)[$_get](i$0).distance = distance;
            distanceToIndexMatrix[$_get](j)[$_get](i$0).index = i$0;
            distanceToIndexMatrix[$_get](i$0)[$_get](j).distance = distance;
            distanceToIndexMatrix[$_get](i$0)[$_get](j).index = j;
          }
          distanceToIndexMatrix[$_get](i$0)[$sort]();
          for (let j$ = 0; j$ < clusterCount; j$ = j$ + 1) {
            indexMatrix[$_get](i$0)[$_set](j$, distanceToIndexMatrix[$_get](i$0)[$_get](j$).index);
          }
        }
        for (let i$1 = 0; i$1 < pointCount; i$1 = i$1 + 1) {
          let point = points[$_get](i$1);
          let previousClusterIndex = clusterIndices[$_get](i$1);
          let previousCluster = clusters[$_get](previousClusterIndex);
          let previousDistance = pointProvider.distance(point, previousCluster);
          let minimumDistance = previousDistance;
          let newClusterIndex = -1;
          for (let j$0 = 0; j$0 < clusterCount; j$0 = j$0 + 1) {
            if (distanceToIndexMatrix[$_get](previousClusterIndex)[$_get](j$0).distance >= 4 * previousDistance) {
              continue;
            }
            let distance$ = pointProvider.distance(point, clusters[$_get](j$0));
            if (distance$ < minimumDistance) {
              minimumDistance = distance$;
              newClusterIndex = j$0;
            }
          }
          if (newClusterIndex !== -1) {
            pointsMoved = pointsMoved + 1;
            clusterIndices[$_set](i$1, newClusterIndex);
          }
        }
        if (pointsMoved === 0 && iteration > 0) {
          quantizer_wsmeans.QuantizerWsmeans.debugLog("terminated after " + dart.strSafe(iteration) + " k-means iterations");
          break;
        }
        quantizer_wsmeans.QuantizerWsmeans.debugLog("iteration " + dart.strSafe(iteration + 1) + " moved " + dart.strSafe(pointsMoved));
        let componentASums = core.List.filled(T.ListOfdouble(), clusterCount, 0.0);
        let componentBSums = core.List.filled(T.ListOfdouble(), clusterCount, 0.0);
        let componentCSums = core.List.filled(T.ListOfdouble(), clusterCount, 0.0);
        for (let i$2 = 0; i$2 < clusterCount; i$2 = i$2 + 1) {
          pixelCountSums[$_set](i$2, 0);
        }
        for (let i$3 = 0; i$3 < pointCount; i$3 = i$3 + 1) {
          let clusterIndex = clusterIndices[$_get](i$3);
          let point$ = points[$_get](i$3);
          let count$ = counts[$_get](i$3);
          pixelCountSums[$_set](clusterIndex, pixelCountSums[$_get](clusterIndex) + count$);
          componentASums[$_set](clusterIndex, componentASums[$_get](clusterIndex) + point$[$_get](0) * count$);
          componentBSums[$_set](clusterIndex, componentBSums[$_get](clusterIndex) + point$[$_get](1) * count$);
          componentCSums[$_set](clusterIndex, componentCSums[$_get](clusterIndex) + point$[$_get](2) * count$);
        }
        for (let i$4 = 0; i$4 < clusterCount; i$4 = i$4 + 1) {
          let count$0 = pixelCountSums[$_get](i$4);
          if (count$0 === 0) {
            clusters[$_set](i$4, _interceptors.JSArray.of(T.JSArrayOfdouble(), [0.0, 0.0, 0.0]));
            continue;
          }
          let a = componentASums[$_get](i$4) / count$0;
          let b = componentBSums[$_get](i$4) / count$0;
          let c = componentCSums[$_get](i$4) / count$0;
          clusters[$_set](i$4, _interceptors.JSArray.of(T.JSArrayOfdouble(), [a, b, c]));
        }
      }
      let clusterArgbs = _interceptors.JSArray.of(T.JSArrayOfint(), []);
      let clusterPopulations = _interceptors.JSArray.of(T.JSArrayOfint(), []);
      for (let i$5 = 0; i$5 < clusterCount; i$5 = i$5 + 1) {
        let count$1 = pixelCountSums[$_get](i$5);
        if (count$1 === 0) {
          continue;
        }
        let possibleNewCluster = pointProvider.toInt(clusters[$_get](i$5));
        if (clusterArgbs[$contains](possibleNewCluster)) {
          continue;
        }
        clusterArgbs[$add](possibleNewCluster);
        clusterPopulations[$add](count$1);
      }
      quantizer_wsmeans.QuantizerWsmeans.debugLog("kmeans finished and generated " + dart.strSafe(clusterArgbs[$length]) + " clusters; " + dart.strSafe(clusterCount) + " were requested");
      let inputPixelToClusterPixel = new _js_helper.IdentityMap.new(T.IdentityMapOfint$int());
      if (returnInputPixelToClusterPixel) {
        let stopwatch = (t$360 = new core.Stopwatch.new(), (() => {
          t$360.start();
          return t$360;
        })());
        for (let i$6 = 0; i$6 < pixels[$length]; i$6 = i$6 + 1) {
          let inputPixel = pixels[$_get](i$6);
          let clusterIndex$ = clusterIndices[$_get](i$6);
          let cluster = clusters[$_get](clusterIndex$);
          let clusterPixel = pointProvider.toInt(cluster);
          inputPixelToClusterPixel[$_set](inputPixel, clusterPixel);
        }
        quantizer_wsmeans.QuantizerWsmeans.debugLog("took " + dart.strSafe(stopwatch.elapsedMilliseconds) + " ms to create input to cluster map");
      }
      return new quantizer.QuantizerResult.new(collection.LinkedHashMap.fromIterables(T.LinkedHashMapOfint$int(), clusterArgbs, clusterPopulations), {inputPixelToClusterPixel: inputPixelToClusterPixel});
    }
    static ['_#new#tearOff']() {
      return new quantizer_wsmeans.QuantizerWsmeans.new();
    }
  });
  (quantizer_wsmeans.QuantizerWsmeans.new = function() {
    ;
  }).prototype = quantizer_wsmeans.QuantizerWsmeans.prototype;
  dart.lazyFn(quantizer_wsmeans.QuantizerWsmeans.debugLog, () => T.StringTovoid());
  dart.lazyFn(quantizer_wsmeans.QuantizerWsmeans.quantize, () => T.IterableOfintAndint__ToQuantizerResult());
  dart.lazyFn(quantizer_wsmeans.QuantizerWsmeans['_#new#tearOff'], () => T.VoidToQuantizerWsmeans());
  dart.addRtiResources(quantizer_wsmeans.QuantizerWsmeans, ["material_color_utilities__quantize__quantizer_wsmeans|QuantizerWsmeans"]);
  dart.setMethodsImmediateTargetSignature(quantizer_wsmeans.QuantizerWsmeans, () => dart.global.Object.setPrototypeOf({
    debugLog: "package:material_color_utilities/quantize/quantizer_wsmeans.dart:QuantizerWsmeans",
    quantize: "package:material_color_utilities/quantize/quantizer_wsmeans.dart:QuantizerWsmeans"
  }, dart.getMethodsImmediateTargets(dart.global.Object.getPrototypeOf(quantizer_wsmeans.QuantizerWsmeans))));
  dart.setStaticMethodSignature(quantizer_wsmeans.QuantizerWsmeans, () => ['debugLog', 'quantize']);
  dart.setLibraryUri(quantizer_wsmeans.QuantizerWsmeans, I[0]);
  dart.setStaticFieldSignature(quantizer_wsmeans.QuantizerWsmeans, () => ['debug']);
  (function() {
  }).prototype = quantizer_wsmeans;
  dart.moduleConstCaches.set("packages/material_color_utilities/quantize/quantizer_wsmeans.dart", C);
  quantizer_wsmeans[dartDevEmbedder.linkSymbol] = function link__quantizer_wsmeans() {
    dart.classExtends(quantizer_wsmeans.DistanceAndIndex, dartDevEmbedder.importLibrary("dart:core").Object);
    dart.classExtends(quantizer_wsmeans.QuantizerWsmeans, dartDevEmbedder.importLibrary("dart:core").Object);
    dart.defineExtensionMethods(quantizer_wsmeans.DistanceAndIndex, ['compareTo']);
    dart_rti._Universe.addRules(dart.typeUniverse, JSON.parse('{"material_color_utilities__quantize__quantizer_wsmeans|DistanceAndIndex":{"Comparable.T":"material_color_utilities__quantize__quantizer_wsmeans|DistanceAndIndex","core|Comparable":["material_color_utilities__quantize__quantizer_wsmeans|DistanceAndIndex"]},"core|Comparable":{"Comparable.T":"1"},"core|double":{"core|num":[],"Comparable.T":"core|num","core|Comparable":["core|num"]},"core|num":{"Comparable.T":"core|num","core|Comparable":["core|num"]},"core|int":{"core|num":[],"Comparable.T":"core|num","core|Comparable":["core|num"]},"_js_helper|IdentityMap":{"IdentityMap.K":"1","IdentityMap.V":"2","InternalMap.K":"1","InternalMap.V":"2","_js_helper|InternalMap":["1","2"],"MapBase.K":"1","MapBase.V":"2","collection|MapBase":["1","2"],"LinkedHashMap.K":"1","LinkedHashMap.V":"2","collection|LinkedHashMap":["1","2"],"HashMap.K":"1","HashMap.V":"2","collection|HashMap":["1","2"],"Map.K":"1","Map.V":"2","core|Map":["1","2"]},"_js_helper|InternalMap":{"InternalMap.K":"1","InternalMap.V":"2","MapBase.K":"1","MapBase.V":"2","collection|MapBase":["1","2"],"LinkedHashMap.K":"1","LinkedHashMap.V":"2","collection|LinkedHashMap":["1","2"],"HashMap.K":"1","HashMap.V":"2","collection|HashMap":["1","2"],"Map.K":"1","Map.V":"2","core|Map":["1","2"]},"collection|MapBase":{"MapBase.K":"1","MapBase.V":"2","Map.K":"1","Map.V":"2","core|Map":["1","2"]},"collection|LinkedHashMap":{"LinkedHashMap.K":"1","LinkedHashMap.V":"2","Map.K":"1","Map.V":"2","core|Map":["1","2"]},"collection|HashMap":{"HashMap.K":"1","HashMap.V":"2","Map.K":"1","Map.V":"2","core|Map":["1","2"]},"core|Map":{"Map.K":"1","Map.V":"2"},"_interceptors|JSArray":{"JSArray.E":"1","_interceptors|JavaScriptObject":[],"List.E":"1","core|List":["1"],"JSIndexable.E":"1","_interceptors|JSIndexable":["1"],"_js_helper|TrustedGetRuntimeType":[],"_interceptors|Interceptor":[],"_interceptors|JSObject":[],"Iterable.E":"1","core|Iterable":["1"],"_ListIterable.E":"1","core|_ListIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"_interceptors|JavaScriptObject":{"_interceptors|Interceptor":[],"_interceptors|JSObject":[]},"core|List":{"List.E":"1","Iterable.E":"1","core|Iterable":["1"],"_ListIterable.E":"1","core|_ListIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"_interceptors|JSIndexable":{"JSIndexable.E":"1"},"core|Iterable":{"Iterable.E":"1"},"core|_ListIterable":{"_ListIterable.E":"1","EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"],"Iterable.E":"1","core|Iterable":["1"]},"_internal|EfficientLengthIterable":{"EfficientLengthIterable.T":"1","Iterable.E":"1","core|Iterable":["1"]},"_internal|HideEfficientLengthIterable":{"HideEfficientLengthIterable.T":"1","Iterable.E":"1","core|Iterable":["1"]},"core|String":{"Comparable.T":"core|String","core|Comparable":["core|String"],"core|Pattern":[]}}'));
  };
  quantizer_wsmeans[dart.libraryImportUri] = "package:material_color_utilities/quantize/quantizer_wsmeans.dart";
  return quantizer_wsmeans;
}));
dartDevEmbedder.debugger.setSourceMap("packages/material_color_utilities/quantize/quantizer_wsmeans.dart", '{"version":3,"sourceRoot":"","sources":["quantizer_wsmeans.dart"],"names":[],"mappings":"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","file":"../../../../../../../../../../../packages/material_color_utilities/quantize/quantizer_wsmeans.dart.lib.js"}');

//# sourceMappingURL=quantizer_wsmeans.dart.lib.js.map
